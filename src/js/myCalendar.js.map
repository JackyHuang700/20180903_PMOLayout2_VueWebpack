{"version":3,"sources":["src/myCalendar.js"],"names":["data","title","start","end","id","url","newData","popTemplate","join","popoverElement","calendarSelectStart","calendarSelectEnd","$","document","ready","savePopoverDom","getElementById","calendarDom","fullCalendar","header","left","center","right","defaultDate","navLinks","selectable","selectHelper","select","jsEvent","closePopovers","target","popover","content","template","placement","html","trigger","animation","container","eventClick","calEvent","view","currentTarget","eventRender","event","element","append","find","click","confirm","_id","editable","eventLimit","events","on","e","popoverContentInputDom","value","is","has","length","not"],"mappings":"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","sourcesContent":["(function () {\r\n  var data = [\r\n    {\r\n      title: 'All Day Event',\r\n      start: '2015-02-01'\r\n    },\r\n    {\r\n      title: 'Long Event',\r\n      start: '2015-02-07',\r\n      end: '2015-02-10'\r\n    },\r\n    {\r\n      id: 999,\r\n      title: 'Repeating Event',\r\n      start: '2015-02-09T16:00:00'\r\n    },\r\n    {\r\n      id: 999,\r\n      title: 'Repeating Event',\r\n      start: '2015-02-16T16:00:00'\r\n    },\r\n    {\r\n      title: 'Conference',\r\n      start: '2015-02-11',\r\n      end: '2015-02-13'\r\n    },\r\n    {\r\n      title: 'Meeting',\r\n      start: '2015-02-12T10:30:00',\r\n      end: '2015-02-12T12:30:00'\r\n    },\r\n    {\r\n      title: 'Lunch',\r\n      start: '2015-02-12T12:00:00'\r\n    },\r\n    {\r\n      title: 'Meeting',\r\n      start: '2015-02-12T14:30:00'\r\n    },\r\n    {\r\n      title: 'Happy Hour',\r\n      start: '2015-02-12T17:30:00'\r\n    },\r\n    {\r\n      title: 'Dinner',\r\n      start: '2015-02-12T20:00:00'\r\n    },\r\n    {\r\n      title: 'Birthday Party',\r\n      start: '2015-02-13T07:00:00'\r\n    },\r\n    {\r\n      title: 'Click for Google',\r\n      url: 'https://google.com/',\r\n      start: '2015-02-28'\r\n    }\r\n  ]\r\n\r\n  var newData = [\r\n    {\r\n      title: 'stuff',\r\n      start: '2015-03-01'\r\n    },\r\n    {\r\n      title: 'stuff',\r\n      start: '2015-03-02'\r\n    }\r\n  ]\r\n  var popTemplate = [\r\n    '<div class=\"popover\" style=\"max-width:600px;\" >',\r\n    '<div class=\"arrow\"></div>',\r\n    '<div class=\"popover-header\">',\r\n    '<button id=\"closepopover\" type=\"button\" class=\"close\" aria-hidden=\"true\">&times;</button>',\r\n    '<h3 class=\"popover-title\"></h3>',\r\n    '</div>',\r\n    '<div class=\"popover-content\"></div>',\r\n    '</div>'\r\n  ].join('')\r\n  var popoverElement\r\n  var calendarSelectStart\r\n  var calendarSelectEnd\r\n\r\n  $(document).ready(function(){\r\n    var savePopoverDom = document.getElementById('savePopover')\r\n    var calendarDom = document.getElementById('calendar')\r\n\r\n    $(calendarDom).fullCalendar({\r\n      header: {\r\n        left: 'prev,next today',\r\n        center: 'title',\r\n        right: 'month,agendaWeek,agendaDay'\r\n      },\r\n      defaultDate: '2015-02-12',\r\n      navLinks: true, // can click day/week names to navigate views\r\n      selectable: true,\r\n      selectHelper: true,\r\n      select(start, end, jsEvent) {\r\n        closePopovers()\r\n\r\n        popoverElement = $(jsEvent.target)\r\n        $(jsEvent.target)\r\n          .popover({\r\n            title: 'the title',\r\n            content() {\r\n              return (\r\n                '<div class=\"popoverContent\">' +\r\n                '  <input type=\"text\" class=\"form-control\" id=\"popoverContentInput\"/>' +\r\n                '  <button type=\"button\" class=\"btn btn-primary\" id=\"savePopover\">儲存</button>' +\r\n                '</div>'\r\n              )\r\n            },\r\n            template: popTemplate,\r\n            placement: 'left',\r\n            html: 'true',\r\n            trigger: 'click',\r\n            animation: 'true',\r\n            container: 'body'\r\n          })\r\n          .popover('show')\r\n        calendarSelectStart = start\r\n        calendarSelectEnd = end\r\n      },\r\n      eventClick(calEvent, jsEvent, view) {\r\n        popoverElement = $(jsEvent.currentTarget)\r\n      },\r\n      eventRender(event, element) {\r\n        element.append('<span class=\\'closeon fc-devare\\'>X</span>')\r\n        element.find('.closeon').click(function(){\r\n          if (confirm('確認刪除?')) {\r\n            $('#calendar').fullCalendar('removeEvents', event._id)\r\n          }\r\n        })\r\n      },\r\n      editable: true,\r\n      eventLimit: true,\r\n      events: data\r\n    })\r\n\r\n    $(calendarDom).on('click', '.fc-next-button', function(){\r\n      // alert('clicked');\r\n      $(calendarDom).fullCalendar('removeEvents')\r\n      $(calendarDom).fullCalendar('addEventSource', newData)\r\n    })\r\n    $(calendarDom).on('click', '.fc-prev-button', function(){\r\n      // alert('clicked');\r\n      $(calendarDom).fullCalendar('removeEvents')\r\n      $(calendarDom).fullCalendar('addEventSource', data)\r\n    })\r\n\r\n    $(document).on('click', '#savePopover', function(e) {\r\n      var popoverContentInputDom = document.getElementById(\r\n        'popoverContentInput'\r\n      )\r\n      if (popoverContentInputDom.value) {\r\n        $(calendarDom).fullCalendar(\r\n          'renderEvent',\r\n          {\r\n            title: popoverContentInputDom.value,\r\n            start: calendarSelectStart,\r\n            end: calendarSelectEnd\r\n          },\r\n          true\r\n        ) // stick? = true\r\n      }\r\n      $(calendarDom).fullCalendar('unselect')\r\n      closePopovers()\r\n    })\r\n\r\n    $('body').on('click', function(e) {\r\n      // close the popover if: click outside of the popover || click on the close button of the popover\r\n      if (\r\n        popoverElement &&\r\n        (!popoverElement.is(e.target) &&\r\n          popoverElement.has(e.target).length === 0 &&\r\n          $('.popover').has(e.target).length === 0 ||\r\n          popoverElement.has(e.target) && e.target.id === 'closepopover')\r\n      ) {\r\n        // / $('.popover').popover('hide'); --> works\r\n\r\n        closePopovers()\r\n      }\r\n    })\r\n\r\n    function closePopovers() {\r\n      $('.popover')\r\n        .not(this)\r\n        .popover('hide')\r\n    }\r\n  })\r\n}())\r\n"],"file":"myCalendar.js"}